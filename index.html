<!DOCTYPE html>
<html lang="lv">
<head>
  <meta charset="UTF-8">
  <title>QR koda skeneris</title>
  <script src="https://unpkg.com/html5-qrcode"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
      text-align: center;
      padding: 20px;
    }
    #reader {
      width: 1000px;
      margin: 0 auto;
    }
    .box {
      background: green;
      padding: 15px;
      margin-top: 15px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    button {
      padding: 10px 16px;
      margin: 5px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
    }
    .start { background: #28a745; color: white; }
    .stop { background: #dc3545; color: white; }
    .copy { background: #007bff; color: white; }
  </style>
</head>
<body>

<h2>ğŸ“· QR koda skeneris</h2>

<div id="reader"></div>

<div class="box">
  <p><b>NoskenÄ“tais kods:</b></p>
  <p id="result">â€”</p>

  <button class="start" onclick="startScan()">SÄkt</button>
  <button class="stop" onclick="stopScan()">ApturÄ“t</button>
  <button class="copy" onclick="copyText()">KopÄ“t</button>
</div>

<script>
  const qr = new Html5Qrcode("reader");
  const result = document.getElementById("result");

  function startScan() {
    qr.start(
      { facingMode: "environment" },
      { fps: 10, qrbox: 320 },
      text => result.innerText = text
    );
  }

  function stopScan() {
    qr.stop();
  }

  function copyText() {
    if (result.innerText !== "â€”") {
      navigator.clipboard.writeText(result.innerText);
      alert("NokopÄ“ts!");
    }
  }
</script>

</body>
</html>
